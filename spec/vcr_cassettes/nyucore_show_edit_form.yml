---
http_interactions:
- request:
    method: post
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/nextPID?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Set-Cookie:
      - JSESSIONID=152ghz7r7l8s51ouosx2zrt86z;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/xml
      Date:
      - Thu, 08 May 2014 17:02:15 GMT
      Content-Length:
      - '374'
    body:
      encoding: US-ASCII
      string: ! '<?xml version="1.0" encoding="UTF-8"?>

        <pidList  xmlns="http://www.fedora.info/definitions/1/0/management/"  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.fedora.info/definitions/1/0/management/
        http://www.fedora.info/definitions/1/0/getNextPIDInfo.xsd">  <pid>changeme:48</pid>

        </pidList>

'
    http_version: 
  recorded_at: Thu, 08 May 2014 17:02:15 GMT
- request:
    method: get
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:48/datastreams?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 404
      message: Not Found
    headers:
      Set-Cookie:
      - JSESSIONID=d2nqwppwrzut1u3nz1sqn3idv;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/plain
      Date:
      - Thu, 08 May 2014 17:02:15 GMT
      Content-Length:
      - '50'
    body:
      encoding: US-ASCII
      string: ! 'Object not found in low-level storage: changeme:48'
    http_version: 
  recorded_at: Thu, 08 May 2014 17:02:15 GMT
- request:
    method: get
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:48?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 404
      message: Not Found
    headers:
      Set-Cookie:
      - JSESSIONID=186tf1tqv5w561dhrnrrendwps;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/plain
      Date:
      - Thu, 08 May 2014 17:02:15 GMT
      Content-Length:
      - '50'
    body:
      encoding: US-ASCII
      string: ! 'Object not found in low-level storage: changeme:48'
    http_version: 
  recorded_at: Thu, 08 May 2014 17:02:15 GMT
- request:
    method: get
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:48/datastreams/RELS-EXT?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 404
      message: Not Found
    headers:
      Set-Cookie:
      - JSESSIONID=15iuug05af2n01mpbrxdqrm6y5;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/plain
      Date:
      - Thu, 08 May 2014 17:02:15 GMT
      Content-Length:
      - '50'
    body:
      encoding: US-ASCII
      string: ! 'Object not found in low-level storage: changeme:48'
    http_version: 
  recorded_at: Thu, 08 May 2014 17:02:15 GMT
- request:
    method: get
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:48/datastreams/descMetadata?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 404
      message: Not Found
    headers:
      Set-Cookie:
      - JSESSIONID=1qs1ao9g5jsyc1iwn51z1t9cri;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/plain
      Date:
      - Thu, 08 May 2014 17:02:15 GMT
      Content-Length:
      - '50'
    body:
      encoding: US-ASCII
      string: ! 'Object not found in low-level storage: changeme:48'
    http_version: 
  recorded_at: Thu, 08 May 2014 17:02:15 GMT
- request:
    method: post
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:48
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - text/xml
      User-Agent:
      - Ruby
  response:
    status:
      code: 201
      message: Created
    headers:
      Set-Cookie:
      - JSESSIONID=zucu6v4liy706l8wzy5v50nx;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - application/xml
      Date:
      - Thu, 08 May 2014 17:02:15 GMT
      Location:
      - http://127.0.0.1:8983/fedora-test/objects/changeme%3A48
      Content-Length:
      - '11'
    body:
      encoding: US-ASCII
      string: changeme:48
    http_version: 
  recorded_at: Thu, 08 May 2014 17:02:15 GMT
- request:
    method: get
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:48?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Set-Cookie:
      - JSESSIONID=1pfk96ch9mdr216zcqcj3bl0u3;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/xml
      Date:
      - Thu, 08 May 2014 17:02:15 GMT
      Content-Length:
      - '918'
    body:
      encoding: US-ASCII
      string: <?xml version="1.0" encoding="UTF-8"?><objectProfile  xmlns="http://www.fedora.info/definitions/1/0/access/"  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.fedora.info/definitions/1/0/access/
        http://www.fedora.info/definitions/1/0/objectProfile.xsd" pid="changeme:48"
        ><objLabel></objLabel><objOwnerId>fedoraAdmin</objOwnerId><objModels><model>info:fedora/fedora-system:FedoraObject-3.0</model></objModels><objCreateDate>2014-05-08T17:02:15.404Z</objCreateDate><objLastModDate>2014-05-08T17:02:15.404Z</objLastModDate><objDissIndexViewURL>http://localhost:8983/fedora-test/objects/changeme%3A48/methods/fedora-system%3A3/viewMethodIndex</objDissIndexViewURL><objItemIndexViewURL>http://localhost:8983/fedora-test/objects/changeme%3A48/methods/fedora-system%3A3/viewItemIndex</objItemIndexViewURL><objState>A</objState></objectProfile>
    http_version: 
  recorded_at: Thu, 08 May 2014 17:02:15 GMT
- request:
    method: post
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:48/datastreams/RELS-EXT?controlGroup=X&dsLabel=Fedora%20Object-to-Object%20Relationship%20Metadata&dsState=A&mimeType=application/rdf%2Bxml&versionable=true
    body:
      encoding: UTF-8
      string: ! "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"
        xmlns:ns0=\"info:fedora/fedora-system:def/model#\">\n  <rdf:Description rdf:about=\"info:fedora/changeme:48\">\n
        \   <ns0:hasModel rdf:resource=\"info:fedora/afmodel:Nyucore\"/>\n  </rdf:Description>\n</rdf:RDF>\n"
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/rdf+xml
      Multipart:
      - 'true'
      Content-Length:
      - '305'
      User-Agent:
      - Ruby
  response:
    status:
      code: 201
      message: Created
    headers:
      Set-Cookie:
      - JSESSIONID=1da6sepo1x9vf7f61e5sutpis;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/xml
      Date:
      - Thu, 08 May 2014 17:02:15 GMT
      Location:
      - http://127.0.0.1:8983/fedora-test/objects/changeme%3A48/datastreams/RELS-EXT
      Content-Length:
      - '915'
    body:
      encoding: US-ASCII
      string: <?xml version="1.0" encoding="UTF-8"?><datastreamProfile  xmlns="http://www.fedora.info/definitions/1/0/management/"  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.fedora.info/definitions/1/0/management/
        http://www.fedora.info/definitions/1/0/datastreamProfile.xsd" pid="changeme:48"
        dsID="RELS-EXT" ><dsLabel>Fedora Object-to-Object Relationship Metadata</dsLabel><dsVersionID>RELS-EXT.0</dsVersionID><dsCreateDate>2014-05-08T17:02:15.599Z</dsCreateDate><dsState>A</dsState><dsMIME>application/rdf+xml</dsMIME><dsFormatURI></dsFormatURI><dsControlGroup>X</dsControlGroup><dsSize>281</dsSize><dsVersionable>true</dsVersionable><dsInfoType></dsInfoType><dsLocation>changeme:48+RELS-EXT+RELS-EXT.0</dsLocation><dsLocationType></dsLocationType><dsChecksumType>DISABLED</dsChecksumType><dsChecksum>none</dsChecksum></datastreamProfile>
    http_version: 
  recorded_at: Thu, 08 May 2014 17:02:15 GMT
- request:
    method: post
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:48/datastreams/descMetadata?controlGroup=M&dsState=A&mimeType=text/plain&versionable=true
    body:
      encoding: UTF-8
      string: ! '<info:fedora/changeme:48> <http://purl.org/dc/terms/title> "My record"
        .

        <info:fedora/changeme:48> <http://purl.org/dc/terms/creator> "The Man" .

        <info:fedora/changeme:48> <http://purl.org/dc/terms/publisher> "NYU" .

        <info:fedora/changeme:48> <http://purl.org/dc/terms/identifier> "rec123" .

        <info:fedora/changeme:48> <http://harper.bobst.nyu.edu/data/nyucore#available>
        "Not sure what this is" .

        <info:fedora/changeme:48> <http://purl.org/dc/terms/type> "Geospatial Dataset"
        .

        <info:fedora/changeme:48> <http://purl.org/dc/terms/description> "This is
        a record" .

        <info:fedora/changeme:48> <http://harper.bobst.nyu.edu/data/nyucore#edition>
        "Ed 1" .

        <info:fedora/changeme:48> <http://harper.bobst.nyu.edu/data/nyucore#series>
        "Series 1" .

        <info:fedora/changeme:48> <http://harper.bobst.nyu.edu/data/nyucore#version>
        "V1" .

        <info:fedora/changeme:48> <http://purl.org/dc/terms/date> "12/05/2014" .

        <info:fedora/changeme:48> <http://purl.org/dc/terms/format> "some" .

        <info:fedora/changeme:48> <http://purl.org/dc/terms/language> "en" .

'
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - text/plain
      Multipart:
      - 'true'
      Content-Length:
      - '1034'
      User-Agent:
      - Ruby
  response:
    status:
      code: 201
      message: Created
    headers:
      Set-Cookie:
      - JSESSIONID=z419mhemyq1dyyb3hu2dconv;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/xml
      Date:
      - Thu, 08 May 2014 17:02:16 GMT
      Location:
      - http://127.0.0.1:8983/fedora-test/objects/changeme%3A48/datastreams/descMetadata
      Content-Length:
      - '889'
    body:
      encoding: US-ASCII
      string: <?xml version="1.0" encoding="UTF-8"?><datastreamProfile  xmlns="http://www.fedora.info/definitions/1/0/management/"  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.fedora.info/definitions/1/0/management/
        http://www.fedora.info/definitions/1/0/datastreamProfile.xsd" pid="changeme:48"
        dsID="descMetadata" ><dsLabel></dsLabel><dsVersionID>descMetadata.0</dsVersionID><dsCreateDate>2014-05-08T17:02:16.504Z</dsCreateDate><dsState>A</dsState><dsMIME>text/plain</dsMIME><dsFormatURI></dsFormatURI><dsControlGroup>M</dsControlGroup><dsSize>1034</dsSize><dsVersionable>true</dsVersionable><dsInfoType></dsInfoType><dsLocation>changeme:48+descMetadata+descMetadata.0</dsLocation><dsLocationType>INTERNAL_ID</dsLocationType><dsChecksumType>DISABLED</dsChecksumType><dsChecksum>none</dsChecksum></datastreamProfile>
    http_version: 
  recorded_at: Thu, 08 May 2014 17:02:16 GMT
- request:
    method: get
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:48/datastreams/RELS-EXT?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Set-Cookie:
      - JSESSIONID=1k16mkhylcsneru5recw68gxi;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/xml
      Date:
      - Thu, 08 May 2014 17:02:16 GMT
      Content-Length:
      - '915'
    body:
      encoding: US-ASCII
      string: <?xml version="1.0" encoding="UTF-8"?><datastreamProfile  xmlns="http://www.fedora.info/definitions/1/0/management/"  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.fedora.info/definitions/1/0/management/
        http://www.fedora.info/definitions/1/0/datastreamProfile.xsd" pid="changeme:48"
        dsID="RELS-EXT" ><dsLabel>Fedora Object-to-Object Relationship Metadata</dsLabel><dsVersionID>RELS-EXT.0</dsVersionID><dsCreateDate>2014-05-08T17:02:15.599Z</dsCreateDate><dsState>A</dsState><dsMIME>application/rdf+xml</dsMIME><dsFormatURI></dsFormatURI><dsControlGroup>X</dsControlGroup><dsSize>281</dsSize><dsVersionable>true</dsVersionable><dsInfoType></dsInfoType><dsLocation>changeme:48+RELS-EXT+RELS-EXT.0</dsLocation><dsLocationType></dsLocationType><dsChecksumType>DISABLED</dsChecksumType><dsChecksum>none</dsChecksum></datastreamProfile>
    http_version: 
  recorded_at: Thu, 08 May 2014 17:02:16 GMT
- request:
    method: get
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:48/datastreams/descMetadata?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Set-Cookie:
      - JSESSIONID=tnnfhcewbnid1qokh2p538sze;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/xml
      Date:
      - Thu, 08 May 2014 17:02:16 GMT
      Content-Length:
      - '889'
    body:
      encoding: US-ASCII
      string: <?xml version="1.0" encoding="UTF-8"?><datastreamProfile  xmlns="http://www.fedora.info/definitions/1/0/management/"  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.fedora.info/definitions/1/0/management/
        http://www.fedora.info/definitions/1/0/datastreamProfile.xsd" pid="changeme:48"
        dsID="descMetadata" ><dsLabel></dsLabel><dsVersionID>descMetadata.0</dsVersionID><dsCreateDate>2014-05-08T17:02:16.504Z</dsCreateDate><dsState>A</dsState><dsMIME>text/plain</dsMIME><dsFormatURI></dsFormatURI><dsControlGroup>M</dsControlGroup><dsSize>1034</dsSize><dsVersionable>true</dsVersionable><dsInfoType></dsInfoType><dsLocation>changeme:48+descMetadata+descMetadata.0</dsLocation><dsLocationType>INTERNAL_ID</dsLocationType><dsChecksumType>DISABLED</dsChecksumType><dsChecksum>none</dsChecksum></datastreamProfile>
    http_version: 
  recorded_at: Thu, 08 May 2014 17:02:16 GMT
- request:
    method: post
    uri: http://127.0.0.1:8983/solr/test/update?wt=ruby
    body:
      encoding: US-ASCII
      string: <?xml version="1.0" encoding="UTF-8"?><add><doc><field name="system_create_dtsi">2014-05-08T17:02:15Z</field><field
        name="system_modified_dtsi">2014-05-08T17:02:15Z</field><field name="object_state_ssi">A</field><field
        name="active_fedora_model_ssi">Nyucore</field><field name="id">changeme:48</field><field
        name="object_profile_ssm">{"datastreams":{"RELS-EXT":{"dsLabel":"Fedora Object-to-Object
        Relationship Metadata","dsVersionID":"RELS-EXT.0","dsCreateDate":"2014-05-08T17:02:15Z","dsState":"A","dsMIME":"application/rdf+xml","dsFormatURI":null,"dsControlGroup":"X","dsSize":281,"dsVersionable":true,"dsInfoType":null,"dsLocation":"changeme:48+RELS-EXT+RELS-EXT.0","dsLocationType":null,"dsChecksumType":"DISABLED","dsChecksum":"none"},"descMetadata":{"dsLabel":null,"dsVersionID":"descMetadata.0","dsCreateDate":"2014-05-08T17:02:16Z","dsState":"A","dsMIME":"text/plain","dsFormatURI":null,"dsControlGroup":"M","dsSize":1034,"dsVersionable":true,"dsInfoType":null,"dsLocation":"changeme:48+descMetadata+descMetadata.0","dsLocationType":"INTERNAL_ID","dsChecksumType":"DISABLED","dsChecksum":"none"}},"objLabel":null,"objOwnerId":"fedoraAdmin","objModels":["info:fedora/fedora-system:FedoraObject-3.0"],"objCreateDate":"2014-05-08T17:02:15Z","objLastModDate":"2014-05-08T17:02:15Z","objDissIndexViewURL":"http://localhost:8983/fedora-test/objects/changeme%3A48/methods/fedora-system%3A3/viewMethodIndex","objItemIndexViewURL":"http://localhost:8983/fedora-test/objects/changeme%3A48/methods/fedora-system%3A3/viewItemIndex","objState":"A"}</field><field
        name="desc_metadata__title_tesim">My record</field><field name="desc_metadata__creator_tesim">The
        Man</field><field name="desc_metadata__creator_sim">The Man</field><field
        name="desc_metadata__publisher_tesim">NYU</field><field name="desc_metadata__identifier_tesim">rec123</field><field
        name="desc_metadata__available_tesim">Not sure what this is</field><field
        name="desc_metadata__type_tesim">Geospatial Dataset</field><field name="desc_metadata__type_sim">Geospatial
        Dataset</field><field name="desc_metadata__description_tesim">This is a record</field><field
        name="desc_metadata__edition_tesim">Ed 1</field><field name="desc_metadata__series_tesim">Series
        1</field><field name="desc_metadata__version_tesim">V1</field><field name="desc_metadata__date_tesim">12/05/2014</field><field
        name="desc_metadata__format_tesim">some</field><field name="desc_metadata__language_tesim">en</field><field
        name="desc_metadata__language_sim">en</field><field name="has_model_ssim">info:fedora/afmodel:Nyucore</field></doc></add>
    headers:
      Content-Type:
      - text/xml
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - text/plain;charset=UTF-8
      Transfer-Encoding:
      - chunked
    body:
      encoding: US-ASCII
      string: ! '{''responseHeader''=>{''status''=>0,''QTime''=>3}}

'
    http_version: 
  recorded_at: Thu, 08 May 2014 17:02:16 GMT
- request:
    method: post
    uri: http://127.0.0.1:8983/solr/test/update?wt=ruby
    body:
      encoding: US-ASCII
      string: <?xml version="1.0" encoding="UTF-8"?><commit/>
    headers:
      Content-Type:
      - text/xml
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - text/plain;charset=UTF-8
      Transfer-Encoding:
      - chunked
    body:
      encoding: US-ASCII
      string: ! '{''responseHeader''=>{''status''=>0,''QTime''=>11}}

'
    http_version: 
  recorded_at: Thu, 08 May 2014 17:02:16 GMT
recorded_with: VCR 2.8.0

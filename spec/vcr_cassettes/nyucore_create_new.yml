---
http_interactions:
- request:
    method: get
    uri: http://127.0.0.1:8983/solr/test/select?q=_query_:%22%7B!raw%20f=has_model_ssim%7Dinfo:fedora/afmodel:Nyucore%22&qt=standard&rows=0&wt=ruby
    body:
      encoding: US-ASCII
      string: ''
    headers: {}
  response:
    status:
      code: 200
      message: OK
    headers:
      Last-Modified:
      - Wed, 07 May 2014 18:03:12 GMT
      Etag:
      - ! '"YTk4MDAwMDAwMDAwMDAwMFNvbHI="'
      Content-Type:
      - text/plain;charset=UTF-8
      Transfer-Encoding:
      - chunked
    body:
      encoding: US-ASCII
      string: ! '{''responseHeader''=>{''status''=>0,''QTime''=>1,''params''=>{''q''=>''_query_:"{!raw
        f=has_model_ssim}info:fedora/afmodel:Nyucore"'',''qt''=>''standard'',''wt''=>''ruby'',''rows''=>''0''}},''response''=>{''numFound''=>170,''start''=>0,''docs''=>[]}}

'
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:36 GMT
- request:
    method: post
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/nextPID?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Set-Cookie:
      - JSESSIONID=186vijgs438sgnezvzvpuldv5;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/xml
      Date:
      - Wed, 07 May 2014 18:07:36 GMT
      Content-Length:
      - '374'
    body:
      encoding: US-ASCII
      string: ! '<?xml version="1.0" encoding="UTF-8"?>

        <pidList  xmlns="http://www.fedora.info/definitions/1/0/management/"  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.fedora.info/definitions/1/0/management/
        http://www.fedora.info/definitions/1/0/getNextPIDInfo.xsd">  <pid>changeme:30</pid>

        </pidList>

'
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:36 GMT
- request:
    method: get
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:30/datastreams?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 404
      message: Not Found
    headers:
      Set-Cookie:
      - JSESSIONID=1qk4yud2n3tp82nxdrzbnsety;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/plain
      Date:
      - Wed, 07 May 2014 18:07:36 GMT
      Content-Length:
      - '50'
    body:
      encoding: US-ASCII
      string: ! 'Object not found in low-level storage: changeme:30'
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:36 GMT
- request:
    method: get
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:30?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 404
      message: Not Found
    headers:
      Set-Cookie:
      - JSESSIONID=1ak28kp2xlore1l5myeatsk3bk;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/plain
      Date:
      - Wed, 07 May 2014 18:07:36 GMT
      Content-Length:
      - '50'
    body:
      encoding: US-ASCII
      string: ! 'Object not found in low-level storage: changeme:30'
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:36 GMT
- request:
    method: get
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:30/datastreams/RELS-EXT?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 404
      message: Not Found
    headers:
      Set-Cookie:
      - JSESSIONID=630b21frmdn1397ctchuhskh;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/plain
      Date:
      - Wed, 07 May 2014 18:07:36 GMT
      Content-Length:
      - '50'
    body:
      encoding: US-ASCII
      string: ! 'Object not found in low-level storage: changeme:30'
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:36 GMT
- request:
    method: get
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:30/datastreams/descMetadata?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 404
      message: Not Found
    headers:
      Set-Cookie:
      - JSESSIONID=kxwgo8018uynlcl4sjx47tw7;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/plain
      Date:
      - Wed, 07 May 2014 18:07:36 GMT
      Content-Length:
      - '50'
    body:
      encoding: US-ASCII
      string: ! 'Object not found in low-level storage: changeme:30'
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:36 GMT
- request:
    method: post
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:30
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - text/xml
      User-Agent:
      - Ruby
  response:
    status:
      code: 201
      message: Created
    headers:
      Set-Cookie:
      - JSESSIONID=hj6k19ef49ub1rmb1yeb9ul83;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - application/xml
      Date:
      - Wed, 07 May 2014 18:07:36 GMT
      Location:
      - http://127.0.0.1:8983/fedora-test/objects/changeme%3A30
      Content-Length:
      - '11'
    body:
      encoding: US-ASCII
      string: changeme:30
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:36 GMT
- request:
    method: get
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:30?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Set-Cookie:
      - JSESSIONID=1kq3q3hu86ta119493mb4a5tm3;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/xml
      Date:
      - Wed, 07 May 2014 18:07:36 GMT
      Content-Length:
      - '918'
    body:
      encoding: US-ASCII
      string: <?xml version="1.0" encoding="UTF-8"?><objectProfile  xmlns="http://www.fedora.info/definitions/1/0/access/"  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.fedora.info/definitions/1/0/access/
        http://www.fedora.info/definitions/1/0/objectProfile.xsd" pid="changeme:30"
        ><objLabel></objLabel><objOwnerId>fedoraAdmin</objOwnerId><objModels><model>info:fedora/fedora-system:FedoraObject-3.0</model></objModels><objCreateDate>2014-05-07T18:07:36.628Z</objCreateDate><objLastModDate>2014-05-07T18:07:36.628Z</objLastModDate><objDissIndexViewURL>http://localhost:8983/fedora-test/objects/changeme%3A30/methods/fedora-system%3A3/viewMethodIndex</objDissIndexViewURL><objItemIndexViewURL>http://localhost:8983/fedora-test/objects/changeme%3A30/methods/fedora-system%3A3/viewItemIndex</objItemIndexViewURL><objState>A</objState></objectProfile>
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:36 GMT
- request:
    method: post
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:30/datastreams/RELS-EXT?controlGroup=X&dsLabel=Fedora%20Object-to-Object%20Relationship%20Metadata&dsState=A&mimeType=application/rdf%2Bxml&versionable=true
    body:
      encoding: UTF-8
      string: ! "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"
        xmlns:ns0=\"info:fedora/fedora-system:def/model#\">\n  <rdf:Description rdf:about=\"info:fedora/changeme:30\">\n
        \   <ns0:hasModel rdf:resource=\"info:fedora/afmodel:Nyucore\"/>\n  </rdf:Description>\n</rdf:RDF>\n"
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/rdf+xml
      Multipart:
      - 'true'
      Content-Length:
      - '305'
      User-Agent:
      - Ruby
  response:
    status:
      code: 201
      message: Created
    headers:
      Set-Cookie:
      - JSESSIONID=1mz2nnoaubpz0fz2ooxquplr5;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/xml
      Date:
      - Wed, 07 May 2014 18:07:36 GMT
      Location:
      - http://127.0.0.1:8983/fedora-test/objects/changeme%3A30/datastreams/RELS-EXT
      Content-Length:
      - '915'
    body:
      encoding: US-ASCII
      string: <?xml version="1.0" encoding="UTF-8"?><datastreamProfile  xmlns="http://www.fedora.info/definitions/1/0/management/"  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.fedora.info/definitions/1/0/management/
        http://www.fedora.info/definitions/1/0/datastreamProfile.xsd" pid="changeme:30"
        dsID="RELS-EXT" ><dsLabel>Fedora Object-to-Object Relationship Metadata</dsLabel><dsVersionID>RELS-EXT.0</dsVersionID><dsCreateDate>2014-05-07T18:07:36.816Z</dsCreateDate><dsState>A</dsState><dsMIME>application/rdf+xml</dsMIME><dsFormatURI></dsFormatURI><dsControlGroup>X</dsControlGroup><dsSize>281</dsSize><dsVersionable>true</dsVersionable><dsInfoType></dsInfoType><dsLocation>changeme:30+RELS-EXT+RELS-EXT.0</dsLocation><dsLocationType></dsLocationType><dsChecksumType>DISABLED</dsChecksumType><dsChecksum>none</dsChecksum></datastreamProfile>
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:36 GMT
- request:
    method: post
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:30/datastreams/descMetadata?controlGroup=M&dsState=A&mimeType=text/plain&versionable=true
    body:
      encoding: UTF-8
      string: ! '<info:fedora/changeme:30> <http://purl.org/dc/terms/title> "My record"
        .

        <info:fedora/changeme:30> <http://purl.org/dc/terms/creator> "The Man" .

        <info:fedora/changeme:30> <http://purl.org/dc/terms/publisher> "NYU" .

        <info:fedora/changeme:30> <http://purl.org/dc/terms/identifier> "rec123" .

        <info:fedora/changeme:30> <http://purl.org/dc/terms/type> "Geospatial Dataset"
        .

'
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - text/plain
      Multipart:
      - 'true'
      Content-Length:
      - '373'
      User-Agent:
      - Ruby
  response:
    status:
      code: 201
      message: Created
    headers:
      Set-Cookie:
      - JSESSIONID=lg0h7h1v20uwa3fjtsurp9a;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/xml
      Date:
      - Wed, 07 May 2014 18:07:37 GMT
      Location:
      - http://127.0.0.1:8983/fedora-test/objects/changeme%3A30/datastreams/descMetadata
      Content-Length:
      - '888'
    body:
      encoding: US-ASCII
      string: <?xml version="1.0" encoding="UTF-8"?><datastreamProfile  xmlns="http://www.fedora.info/definitions/1/0/management/"  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.fedora.info/definitions/1/0/management/
        http://www.fedora.info/definitions/1/0/datastreamProfile.xsd" pid="changeme:30"
        dsID="descMetadata" ><dsLabel></dsLabel><dsVersionID>descMetadata.0</dsVersionID><dsCreateDate>2014-05-07T18:07:37.206Z</dsCreateDate><dsState>A</dsState><dsMIME>text/plain</dsMIME><dsFormatURI></dsFormatURI><dsControlGroup>M</dsControlGroup><dsSize>373</dsSize><dsVersionable>true</dsVersionable><dsInfoType></dsInfoType><dsLocation>changeme:30+descMetadata+descMetadata.0</dsLocation><dsLocationType>INTERNAL_ID</dsLocationType><dsChecksumType>DISABLED</dsChecksumType><dsChecksum>none</dsChecksum></datastreamProfile>
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:37 GMT
- request:
    method: get
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:30/datastreams/RELS-EXT?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Set-Cookie:
      - JSESSIONID=176q3yzed6hog19djo26pb0qk1;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/xml
      Date:
      - Wed, 07 May 2014 18:07:37 GMT
      Content-Length:
      - '915'
    body:
      encoding: US-ASCII
      string: <?xml version="1.0" encoding="UTF-8"?><datastreamProfile  xmlns="http://www.fedora.info/definitions/1/0/management/"  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.fedora.info/definitions/1/0/management/
        http://www.fedora.info/definitions/1/0/datastreamProfile.xsd" pid="changeme:30"
        dsID="RELS-EXT" ><dsLabel>Fedora Object-to-Object Relationship Metadata</dsLabel><dsVersionID>RELS-EXT.0</dsVersionID><dsCreateDate>2014-05-07T18:07:36.816Z</dsCreateDate><dsState>A</dsState><dsMIME>application/rdf+xml</dsMIME><dsFormatURI></dsFormatURI><dsControlGroup>X</dsControlGroup><dsSize>281</dsSize><dsVersionable>true</dsVersionable><dsInfoType></dsInfoType><dsLocation>changeme:30+RELS-EXT+RELS-EXT.0</dsLocation><dsLocationType></dsLocationType><dsChecksumType>DISABLED</dsChecksumType><dsChecksum>none</dsChecksum></datastreamProfile>
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:37 GMT
- request:
    method: get
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:30/datastreams/descMetadata?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Set-Cookie:
      - JSESSIONID=utaj8bqyywemgtetv55ckvns;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/xml
      Date:
      - Wed, 07 May 2014 18:07:37 GMT
      Content-Length:
      - '888'
    body:
      encoding: US-ASCII
      string: <?xml version="1.0" encoding="UTF-8"?><datastreamProfile  xmlns="http://www.fedora.info/definitions/1/0/management/"  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.fedora.info/definitions/1/0/management/
        http://www.fedora.info/definitions/1/0/datastreamProfile.xsd" pid="changeme:30"
        dsID="descMetadata" ><dsLabel></dsLabel><dsVersionID>descMetadata.0</dsVersionID><dsCreateDate>2014-05-07T18:07:37.206Z</dsCreateDate><dsState>A</dsState><dsMIME>text/plain</dsMIME><dsFormatURI></dsFormatURI><dsControlGroup>M</dsControlGroup><dsSize>373</dsSize><dsVersionable>true</dsVersionable><dsInfoType></dsInfoType><dsLocation>changeme:30+descMetadata+descMetadata.0</dsLocation><dsLocationType>INTERNAL_ID</dsLocationType><dsChecksumType>DISABLED</dsChecksumType><dsChecksum>none</dsChecksum></datastreamProfile>
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:37 GMT
- request:
    method: post
    uri: http://127.0.0.1:8983/solr/test/update?wt=ruby
    body:
      encoding: US-ASCII
      string: <?xml version="1.0" encoding="UTF-8"?><add><doc><field name="system_create_dtsi">2014-05-07T18:07:36Z</field><field
        name="system_modified_dtsi">2014-05-07T18:07:36Z</field><field name="object_state_ssi">A</field><field
        name="active_fedora_model_ssi">Nyucore</field><field name="id">changeme:30</field><field
        name="object_profile_ssm">{"datastreams":{"RELS-EXT":{"dsLabel":"Fedora Object-to-Object
        Relationship Metadata","dsVersionID":"RELS-EXT.0","dsCreateDate":"2014-05-07T18:07:36Z","dsState":"A","dsMIME":"application/rdf+xml","dsFormatURI":null,"dsControlGroup":"X","dsSize":281,"dsVersionable":true,"dsInfoType":null,"dsLocation":"changeme:30+RELS-EXT+RELS-EXT.0","dsLocationType":null,"dsChecksumType":"DISABLED","dsChecksum":"none"},"descMetadata":{"dsLabel":null,"dsVersionID":"descMetadata.0","dsCreateDate":"2014-05-07T18:07:37Z","dsState":"A","dsMIME":"text/plain","dsFormatURI":null,"dsControlGroup":"M","dsSize":373,"dsVersionable":true,"dsInfoType":null,"dsLocation":"changeme:30+descMetadata+descMetadata.0","dsLocationType":"INTERNAL_ID","dsChecksumType":"DISABLED","dsChecksum":"none"}},"objLabel":null,"objOwnerId":"fedoraAdmin","objModels":["info:fedora/fedora-system:FedoraObject-3.0"],"objCreateDate":"2014-05-07T18:07:36Z","objLastModDate":"2014-05-07T18:07:36Z","objDissIndexViewURL":"http://localhost:8983/fedora-test/objects/changeme%3A30/methods/fedora-system%3A3/viewMethodIndex","objItemIndexViewURL":"http://localhost:8983/fedora-test/objects/changeme%3A30/methods/fedora-system%3A3/viewItemIndex","objState":"A"}</field><field
        name="desc_metadata__title_tesim">My record</field><field name="desc_metadata__creator_tesim">The
        Man</field><field name="desc_metadata__creator_sim">The Man</field><field
        name="desc_metadata__publisher_tesim">NYU</field><field name="desc_metadata__identifier_tesim">rec123</field><field
        name="desc_metadata__type_tesim">Geospatial Dataset</field><field name="desc_metadata__type_sim">Geospatial
        Dataset</field><field name="has_model_ssim">info:fedora/afmodel:Nyucore</field></doc></add>
    headers:
      Content-Type:
      - text/xml
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - text/plain;charset=UTF-8
      Transfer-Encoding:
      - chunked
    body:
      encoding: US-ASCII
      string: ! '{''responseHeader''=>{''status''=>0,''QTime''=>6}}

'
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:37 GMT
- request:
    method: post
    uri: http://127.0.0.1:8983/solr/test/update?wt=ruby
    body:
      encoding: US-ASCII
      string: <?xml version="1.0" encoding="UTF-8"?><commit/>
    headers:
      Content-Type:
      - text/xml
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - text/plain;charset=UTF-8
      Transfer-Encoding:
      - chunked
    body:
      encoding: US-ASCII
      string: ! '{''responseHeader''=>{''status''=>0,''QTime''=>34}}

'
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:37 GMT
- request:
    method: get
    uri: http://127.0.0.1:8983/solr/test/select?q=_query_:%22%7B!raw%20f=has_model_ssim%7Dinfo:fedora/afmodel:Nyucore%22&qt=standard&rows=0&wt=ruby
    body:
      encoding: US-ASCII
      string: ''
    headers: {}
  response:
    status:
      code: 200
      message: OK
    headers:
      Last-Modified:
      - Wed, 07 May 2014 18:07:37 GMT
      Etag:
      - ! '"ZTk4MDAwMDAwMDAwMDAwMFNvbHI="'
      Content-Type:
      - text/plain;charset=UTF-8
      Transfer-Encoding:
      - chunked
    body:
      encoding: US-ASCII
      string: ! '{''responseHeader''=>{''status''=>0,''QTime''=>1,''params''=>{''q''=>''_query_:"{!raw
        f=has_model_ssim}info:fedora/afmodel:Nyucore"'',''qt''=>''standard'',''wt''=>''ruby'',''rows''=>''0''}},''response''=>{''numFound''=>171,''start''=>0,''docs''=>[]}}

'
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:37 GMT
- request:
    method: post
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/nextPID?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Set-Cookie:
      - JSESSIONID=1p1ey3nl1pjts1a3gk08q7dk3k;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/xml
      Date:
      - Wed, 07 May 2014 18:07:37 GMT
      Content-Length:
      - '374'
    body:
      encoding: US-ASCII
      string: ! '<?xml version="1.0" encoding="UTF-8"?>

        <pidList  xmlns="http://www.fedora.info/definitions/1/0/management/"  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.fedora.info/definitions/1/0/management/
        http://www.fedora.info/definitions/1/0/getNextPIDInfo.xsd">  <pid>changeme:31</pid>

        </pidList>

'
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:37 GMT
- request:
    method: get
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:31/datastreams?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 404
      message: Not Found
    headers:
      Set-Cookie:
      - JSESSIONID=10gnchwahc6gn1d456vlm7955c;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/plain
      Date:
      - Wed, 07 May 2014 18:07:37 GMT
      Content-Length:
      - '50'
    body:
      encoding: US-ASCII
      string: ! 'Object not found in low-level storage: changeme:31'
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:37 GMT
- request:
    method: get
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:31?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 404
      message: Not Found
    headers:
      Set-Cookie:
      - JSESSIONID=1lhk9bkjecv8d87txi1bi7fv5;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/plain
      Date:
      - Wed, 07 May 2014 18:07:37 GMT
      Content-Length:
      - '50'
    body:
      encoding: US-ASCII
      string: ! 'Object not found in low-level storage: changeme:31'
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:37 GMT
- request:
    method: get
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:31/datastreams/RELS-EXT?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 404
      message: Not Found
    headers:
      Set-Cookie:
      - JSESSIONID=1dgcd9na46762rminfs2hl7si;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/plain
      Date:
      - Wed, 07 May 2014 18:07:37 GMT
      Content-Length:
      - '50'
    body:
      encoding: US-ASCII
      string: ! 'Object not found in low-level storage: changeme:31'
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:37 GMT
- request:
    method: get
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:31/datastreams/descMetadata?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 404
      message: Not Found
    headers:
      Set-Cookie:
      - JSESSIONID=1n7dvpw5eyz5q24vtl184glik;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/plain
      Date:
      - Wed, 07 May 2014 18:07:37 GMT
      Content-Length:
      - '50'
    body:
      encoding: US-ASCII
      string: ! 'Object not found in low-level storage: changeme:31'
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:37 GMT
- request:
    method: post
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:31
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - text/xml
      User-Agent:
      - Ruby
  response:
    status:
      code: 201
      message: Created
    headers:
      Set-Cookie:
      - JSESSIONID=ur3tocdyb3bj14cf4gzfk1shb;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - application/xml
      Date:
      - Wed, 07 May 2014 18:07:37 GMT
      Location:
      - http://127.0.0.1:8983/fedora-test/objects/changeme%3A31
      Content-Length:
      - '11'
    body:
      encoding: US-ASCII
      string: changeme:31
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:37 GMT
- request:
    method: get
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:31?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Set-Cookie:
      - JSESSIONID=zn24zs76hekp1o4ztezerqnym;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/xml
      Date:
      - Wed, 07 May 2014 18:07:37 GMT
      Content-Length:
      - '918'
    body:
      encoding: US-ASCII
      string: <?xml version="1.0" encoding="UTF-8"?><objectProfile  xmlns="http://www.fedora.info/definitions/1/0/access/"  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.fedora.info/definitions/1/0/access/
        http://www.fedora.info/definitions/1/0/objectProfile.xsd" pid="changeme:31"
        ><objLabel></objLabel><objOwnerId>fedoraAdmin</objOwnerId><objModels><model>info:fedora/fedora-system:FedoraObject-3.0</model></objModels><objCreateDate>2014-05-07T18:07:37.705Z</objCreateDate><objLastModDate>2014-05-07T18:07:37.705Z</objLastModDate><objDissIndexViewURL>http://localhost:8983/fedora-test/objects/changeme%3A31/methods/fedora-system%3A3/viewMethodIndex</objDissIndexViewURL><objItemIndexViewURL>http://localhost:8983/fedora-test/objects/changeme%3A31/methods/fedora-system%3A3/viewItemIndex</objItemIndexViewURL><objState>A</objState></objectProfile>
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:37 GMT
- request:
    method: post
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:31/datastreams/RELS-EXT?controlGroup=X&dsLabel=Fedora%20Object-to-Object%20Relationship%20Metadata&dsState=A&mimeType=application/rdf%2Bxml&versionable=true
    body:
      encoding: UTF-8
      string: ! "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"
        xmlns:ns0=\"info:fedora/fedora-system:def/model#\">\n  <rdf:Description rdf:about=\"info:fedora/changeme:31\">\n
        \   <ns0:hasModel rdf:resource=\"info:fedora/afmodel:Nyucore\"/>\n  </rdf:Description>\n</rdf:RDF>\n"
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/rdf+xml
      Multipart:
      - 'true'
      Content-Length:
      - '305'
      User-Agent:
      - Ruby
  response:
    status:
      code: 201
      message: Created
    headers:
      Set-Cookie:
      - JSESSIONID=jr2qybp0v1lyr0tkh4dqzs22;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/xml
      Date:
      - Wed, 07 May 2014 18:07:37 GMT
      Location:
      - http://127.0.0.1:8983/fedora-test/objects/changeme%3A31/datastreams/RELS-EXT
      Content-Length:
      - '915'
    body:
      encoding: US-ASCII
      string: <?xml version="1.0" encoding="UTF-8"?><datastreamProfile  xmlns="http://www.fedora.info/definitions/1/0/management/"  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.fedora.info/definitions/1/0/management/
        http://www.fedora.info/definitions/1/0/datastreamProfile.xsd" pid="changeme:31"
        dsID="RELS-EXT" ><dsLabel>Fedora Object-to-Object Relationship Metadata</dsLabel><dsVersionID>RELS-EXT.0</dsVersionID><dsCreateDate>2014-05-07T18:07:37.914Z</dsCreateDate><dsState>A</dsState><dsMIME>application/rdf+xml</dsMIME><dsFormatURI></dsFormatURI><dsControlGroup>X</dsControlGroup><dsSize>281</dsSize><dsVersionable>true</dsVersionable><dsInfoType></dsInfoType><dsLocation>changeme:31+RELS-EXT+RELS-EXT.0</dsLocation><dsLocationType></dsLocationType><dsChecksumType>DISABLED</dsChecksumType><dsChecksum>none</dsChecksum></datastreamProfile>
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:37 GMT
- request:
    method: post
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:31/datastreams/descMetadata?controlGroup=M&dsState=A&mimeType=text/plain&versionable=true
    body:
      encoding: UTF-8
      string: ! '<info:fedora/changeme:31> <http://purl.org/dc/terms/title> "My record"
        .

        <info:fedora/changeme:31> <http://purl.org/dc/terms/creator> "The Man" .

        <info:fedora/changeme:31> <http://purl.org/dc/terms/publisher> "NYU" .

        <info:fedora/changeme:31> <http://purl.org/dc/terms/identifier> "rec123" .

        <info:fedora/changeme:31> <http://harper.bobst.nyu.edu/data/nyucore#available>
        "Not sure what this is" .

        <info:fedora/changeme:31> <http://purl.org/dc/terms/type> "Geospatial Dataset"
        .

        <info:fedora/changeme:31> <http://purl.org/dc/terms/description> "This is
        a record" .

        <info:fedora/changeme:31> <http://harper.bobst.nyu.edu/data/nyucore#edition>
        "Ed 1" .

        <info:fedora/changeme:31> <http://harper.bobst.nyu.edu/data/nyucore#series>
        "Series 1" .

        <info:fedora/changeme:31> <http://harper.bobst.nyu.edu/data/nyucore#version>
        "V1" .

        <info:fedora/changeme:31> <http://purl.org/dc/terms/date> "12/05/2014" .

        <info:fedora/changeme:31> <http://purl.org/dc/terms/format> "some" .

        <info:fedora/changeme:31> <http://purl.org/dc/terms/language> "en" .

'
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - text/plain
      Multipart:
      - 'true'
      Content-Length:
      - '1034'
      User-Agent:
      - Ruby
  response:
    status:
      code: 201
      message: Created
    headers:
      Set-Cookie:
      - JSESSIONID=18wj2mj50g0kf7hlrdouo5wz5;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/xml
      Date:
      - Wed, 07 May 2014 18:07:38 GMT
      Location:
      - http://127.0.0.1:8983/fedora-test/objects/changeme%3A31/datastreams/descMetadata
      Content-Length:
      - '889'
    body:
      encoding: US-ASCII
      string: <?xml version="1.0" encoding="UTF-8"?><datastreamProfile  xmlns="http://www.fedora.info/definitions/1/0/management/"  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.fedora.info/definitions/1/0/management/
        http://www.fedora.info/definitions/1/0/datastreamProfile.xsd" pid="changeme:31"
        dsID="descMetadata" ><dsLabel></dsLabel><dsVersionID>descMetadata.0</dsVersionID><dsCreateDate>2014-05-07T18:07:38.855Z</dsCreateDate><dsState>A</dsState><dsMIME>text/plain</dsMIME><dsFormatURI></dsFormatURI><dsControlGroup>M</dsControlGroup><dsSize>1034</dsSize><dsVersionable>true</dsVersionable><dsInfoType></dsInfoType><dsLocation>changeme:31+descMetadata+descMetadata.0</dsLocation><dsLocationType>INTERNAL_ID</dsLocationType><dsChecksumType>DISABLED</dsChecksumType><dsChecksum>none</dsChecksum></datastreamProfile>
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:38 GMT
- request:
    method: get
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:31/datastreams/RELS-EXT?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Set-Cookie:
      - JSESSIONID=10zwop08xsgl1ujqw9wbrj3ph;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/xml
      Date:
      - Wed, 07 May 2014 18:07:38 GMT
      Content-Length:
      - '915'
    body:
      encoding: US-ASCII
      string: <?xml version="1.0" encoding="UTF-8"?><datastreamProfile  xmlns="http://www.fedora.info/definitions/1/0/management/"  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.fedora.info/definitions/1/0/management/
        http://www.fedora.info/definitions/1/0/datastreamProfile.xsd" pid="changeme:31"
        dsID="RELS-EXT" ><dsLabel>Fedora Object-to-Object Relationship Metadata</dsLabel><dsVersionID>RELS-EXT.0</dsVersionID><dsCreateDate>2014-05-07T18:07:37.914Z</dsCreateDate><dsState>A</dsState><dsMIME>application/rdf+xml</dsMIME><dsFormatURI></dsFormatURI><dsControlGroup>X</dsControlGroup><dsSize>281</dsSize><dsVersionable>true</dsVersionable><dsInfoType></dsInfoType><dsLocation>changeme:31+RELS-EXT+RELS-EXT.0</dsLocation><dsLocationType></dsLocationType><dsChecksumType>DISABLED</dsChecksumType><dsChecksum>none</dsChecksum></datastreamProfile>
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:38 GMT
- request:
    method: get
    uri: http://fedoraAdmin:fedoraAdmin@127.0.0.1:8983/fedora-test/objects/changeme:31/datastreams/descMetadata?format=xml
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - ! '*/*; q=0.5, application/xml'
      Accept-Encoding:
      - gzip, deflate
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Set-Cookie:
      - JSESSIONID=1a3s6chncqtap1372crr939phe;Path=/fedora-test
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Content-Type:
      - text/xml
      Date:
      - Wed, 07 May 2014 18:07:38 GMT
      Content-Length:
      - '889'
    body:
      encoding: US-ASCII
      string: <?xml version="1.0" encoding="UTF-8"?><datastreamProfile  xmlns="http://www.fedora.info/definitions/1/0/management/"  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.fedora.info/definitions/1/0/management/
        http://www.fedora.info/definitions/1/0/datastreamProfile.xsd" pid="changeme:31"
        dsID="descMetadata" ><dsLabel></dsLabel><dsVersionID>descMetadata.0</dsVersionID><dsCreateDate>2014-05-07T18:07:38.855Z</dsCreateDate><dsState>A</dsState><dsMIME>text/plain</dsMIME><dsFormatURI></dsFormatURI><dsControlGroup>M</dsControlGroup><dsSize>1034</dsSize><dsVersionable>true</dsVersionable><dsInfoType></dsInfoType><dsLocation>changeme:31+descMetadata+descMetadata.0</dsLocation><dsLocationType>INTERNAL_ID</dsLocationType><dsChecksumType>DISABLED</dsChecksumType><dsChecksum>none</dsChecksum></datastreamProfile>
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:38 GMT
- request:
    method: post
    uri: http://127.0.0.1:8983/solr/test/update?wt=ruby
    body:
      encoding: US-ASCII
      string: <?xml version="1.0" encoding="UTF-8"?><add><doc><field name="system_create_dtsi">2014-05-07T18:07:37Z</field><field
        name="system_modified_dtsi">2014-05-07T18:07:37Z</field><field name="object_state_ssi">A</field><field
        name="active_fedora_model_ssi">Nyucore</field><field name="id">changeme:31</field><field
        name="object_profile_ssm">{"datastreams":{"RELS-EXT":{"dsLabel":"Fedora Object-to-Object
        Relationship Metadata","dsVersionID":"RELS-EXT.0","dsCreateDate":"2014-05-07T18:07:37Z","dsState":"A","dsMIME":"application/rdf+xml","dsFormatURI":null,"dsControlGroup":"X","dsSize":281,"dsVersionable":true,"dsInfoType":null,"dsLocation":"changeme:31+RELS-EXT+RELS-EXT.0","dsLocationType":null,"dsChecksumType":"DISABLED","dsChecksum":"none"},"descMetadata":{"dsLabel":null,"dsVersionID":"descMetadata.0","dsCreateDate":"2014-05-07T18:07:38Z","dsState":"A","dsMIME":"text/plain","dsFormatURI":null,"dsControlGroup":"M","dsSize":1034,"dsVersionable":true,"dsInfoType":null,"dsLocation":"changeme:31+descMetadata+descMetadata.0","dsLocationType":"INTERNAL_ID","dsChecksumType":"DISABLED","dsChecksum":"none"}},"objLabel":null,"objOwnerId":"fedoraAdmin","objModels":["info:fedora/fedora-system:FedoraObject-3.0"],"objCreateDate":"2014-05-07T18:07:37Z","objLastModDate":"2014-05-07T18:07:37Z","objDissIndexViewURL":"http://localhost:8983/fedora-test/objects/changeme%3A31/methods/fedora-system%3A3/viewMethodIndex","objItemIndexViewURL":"http://localhost:8983/fedora-test/objects/changeme%3A31/methods/fedora-system%3A3/viewItemIndex","objState":"A"}</field><field
        name="desc_metadata__title_tesim">My record</field><field name="desc_metadata__creator_tesim">The
        Man</field><field name="desc_metadata__creator_sim">The Man</field><field
        name="desc_metadata__publisher_tesim">NYU</field><field name="desc_metadata__identifier_tesim">rec123</field><field
        name="desc_metadata__available_tesim">Not sure what this is</field><field
        name="desc_metadata__type_tesim">Geospatial Dataset</field><field name="desc_metadata__type_sim">Geospatial
        Dataset</field><field name="desc_metadata__description_tesim">This is a record</field><field
        name="desc_metadata__edition_tesim">Ed 1</field><field name="desc_metadata__series_tesim">Series
        1</field><field name="desc_metadata__version_tesim">V1</field><field name="desc_metadata__date_tesim">12/05/2014</field><field
        name="desc_metadata__format_tesim">some</field><field name="desc_metadata__language_tesim">en</field><field
        name="desc_metadata__language_sim">en</field><field name="has_model_ssim">info:fedora/afmodel:Nyucore</field></doc></add>
    headers:
      Content-Type:
      - text/xml
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - text/plain;charset=UTF-8
      Transfer-Encoding:
      - chunked
    body:
      encoding: US-ASCII
      string: ! '{''responseHeader''=>{''status''=>0,''QTime''=>3}}

'
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:38 GMT
- request:
    method: post
    uri: http://127.0.0.1:8983/solr/test/update?wt=ruby
    body:
      encoding: US-ASCII
      string: <?xml version="1.0" encoding="UTF-8"?><commit/>
    headers:
      Content-Type:
      - text/xml
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - text/plain;charset=UTF-8
      Transfer-Encoding:
      - chunked
    body:
      encoding: US-ASCII
      string: ! '{''responseHeader''=>{''status''=>0,''QTime''=>11}}

'
    http_version: 
  recorded_at: Wed, 07 May 2014 18:07:38 GMT
recorded_with: VCR 2.8.0
